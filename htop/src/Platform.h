/* Do not edit this file. It was automatically generated. */

#ifndef HEADER_Platform
#define HEADER_Platform
/*
htop - linux/Platform.h
(C) 2014 Hisham H. Muhammad
(C) 2020 Alexander Finger
Released under the GNU GPL, see the COPYING file
in the source distribution for its full text.
*/

#ifdef WIN32
#elif _POSIX_C_SOURCE >= 199309L
#else
#endif

#include "Action.h"
#include "MainPanel.h"
#include "BatteryMeter.h"
#include "LinuxProcess.h"
#include "SignalsPanel.h"
#ifdef WIN32
#include <windows.h>
#elif _POSIX_C_SOURCE >= 199309L
#include <time.h>   
#else
#include <unistd.h> 
#endif
#include <string.h>


typedef enum vendor_id_ {
   VENDOR_INTEL,
   VENDOR_AMD,
   VENDOR_CYRIX,
   VENDOR_VIA,
   VENDOR_TRANSMETA,
   VENDOR_UMC,
   VENDOR_NEXGEN,
   VENDOR_RISE,
   VENDOR_SIS,
   VENDOR_NSC,
   VENDOR_VORTEX,
   VENDOR_RDC,
   VENDOR_UNKNOWN 
} vendor_id;

typedef struct Stats_ {
    int rx_over;
    int tx_over;
    double rx_bytes;
    double tx_bytes;
    double rx_bytes_comp;
    double tx_bytes_comp;
} Stats;

typedef struct ioStats_ {
    int read_over;
    int write_over;
    double read_sectors;
    double write_sectors;
    double read_sectors_comp;
    double write_sectors_comp;
} ioStats;


#ifndef CLAMP
#define CLAMP(x,low,high) (((x)>(high))?(high):(((x)<(low))?(low):(x)))
#endif

extern char *Platform_Vendor_CPU[];

extern ProcessField Platform_defaultFields[];

extern int Platform_cpuBigLITTLE;
extern int Platform_numberOfFields;
extern vendor_id Platform_CPU_vendor_id;

extern const SignalItem Platform_signals[];

extern const unsigned int Platform_numberOfSignals;

extern void Platform_setBindings(Htop_Action* keys);

extern MeterClass* Platform_meterTypes[];

/* cross-platform sleep function */
void sleep_ms(int milliseconds);

int Platform_getGpuTemp(Meter* this);

/*
 * INTEL tempX_input
 * where X is core_id + 1 despite the docs say otherwise:
 * 
 * All Sysfs entries are named with their core_id (represented here by 'X').
 * tempX_input	 - Core temperature (in millidegrees Celsius).
 * tempX_max	 - All cooling devices should be turned on (on Core2).
 * tempX_crit	 - Maximum junction temperature (in millidegrees Celsius).
 * tempX_crit_alarm - Set when Out-of-spec bit is set, never clears.
 * 		   Correct CPU operation is no longer guaranteed.
 * tempX_label	 - Contains string "Core X", where X is processor
 * 		   number. For Package temp, this will be "Physical id Y",
 * 		   where Y is the package number.
 */ 
extern int Platform_getCpuTemp(Meter* this);

/*
 * INTEL tempX_input
 * where X is core_id + 1 despite the docs say otherwise:
 * 
 * All Sysfs entries are named with their core_id (represented here by 'X').
 * tempX_input	 - Core temperature (in millidegrees Celsius).
 * tempX_max	 - All cooling devices should be turned on (on Core2).
 * tempX_crit	 - Maximum junction temperature (in millidegrees Celsius).
 * tempX_crit_alarm - Set when Out-of-spec bit is set, never clears.
 * 		   Correct CPU operation is no longer guaranteed.
 * tempX_label	 - Contains string "Core X", where X is processor
 * 		   number. For Package temp, this will be "Physical id Y",
 * 		   where Y is the package number.
 */ 
extern int Platform_getCoreTemp(Meter* this, int cpu);

extern int Platform_getCpuFreq(Meter* this, int cpu);

extern int Platform_getCoreFreq(Meter* this, int cpu);

extern int Platform_getCpuVcore();

extern int Platform_getCpuVcore_l(Meter* this);

extern int Platform_getCpuVcore_b(Meter* this);

extern int Platform_getCpuBigLITTLE();

extern int Platform_findCpuBigLITTLE(int cpucount, int *cpuBigLITTLE);

extern int Platform_getUptime();

extern void Platform_getLoadAverage(double* one, double* five, double* fifteen);

extern int Platform_getMaxPid();

extern double Platform_setCPUValues(Meter* this, int cpu);

extern void Platform_setMemoryValues(Meter* this);

extern void Platform_setSwapValues(Meter* this);

extern char* Platform_getProcessEnv(pid_t pid);

extern vendor_id Platform_getCPU_vendor_id(void);

extern Stats Platform_Eth0_stats;
extern Stats Platform_Eth1_stats;
extern Stats Platform_Wlan0_stats;

extern int Platform_getEth_stats(char *devname, int id, int close_fp);

extern double get_wall_time(void);

extern ioStats Platform_BlockDevice_sda_stats;
extern ioStats Platform_BlockDevice_sdb_stats;
extern ioStats Platform_BlockDevice_sdc_stats;
extern ioStats Platform_BlockDevice_sdd_stats;
extern ioStats Platform_BlockDevice_mmcblk0_stats;
extern ioStats Platform_BlockDevice_mmcblk1_stats;
extern ioStats Platform_BlockDevice_mmcblk2_stats;
extern ioStats Platform_BlockDevice_mmcblk3_stats;

extern FILE *fp_block_dev_a[8];

extern int Platform_getIO_stats(char *devname, int idx, int close_fp);

extern int findIP_interface(char *dev, char *szIP, int bufsz);

#endif
